@model IEnumerable<odh_foundation.Models.Donar>
@using odh_foundation.Models;
@{
    UsersContext db = new UsersContext();
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = "Donation List";
    var a = 0;
    
}


<link href="~/Content/datepicker/jquery.datepick.css" rel="stylesheet" />
<script src="~/Content/datepicker/jquery.plugin.js"></script>
<script src="~/Content/datepicker/jquery.datepick.js"></script>
<script>
    $(function () {
        $('#sdate').datepick();
        $('#edate').datepick();

    });
</script>
<div class="page-content">
    <div>

        <div class="container">
            <div class="page-toolbar">

                <div class="page-toolbar-block">
                    <div class="page-toolbar-title">DateWise Donation List</div>
                    <div class="page-toolbar-subtitle"></div>
                </div>


            </div>
            @using (Html.BeginForm())
            {
                <div class="row" id="hide">
                    <div class="col-md-6" style="width: 100%">


                        <div class="block">

                            <div class="block-content controls">
                                <div class="row-form">
                                    <div class="input-group" style="margin-left: 1%; margin-right: 1%;">
                                        <span class="input-group-addon">Select Start Date</span>
                                        <input type="text" id="sdate" name="sdate" class="form-control" />

                                    </div>
                                    <br />
                                    <div class="input-group" style="margin-left: 1%; margin-right: 1%;">
                                        <span class="input-group-addon">Select End Date</span>
                                        <input type="text" id="edate" name="edate" class="form-control" />

                                    </div>
                                </div>
                                <div class="row-form" style="width: 100%">
                                    <div class="col-md-9">
                                        <button id="submit" value="Search" class="btn btn-primary pull-right" type="submit">View</button>
                                    </div>
                                </div>



                            </div>
                        </div>

                    </div>
                </div>
                            
            }


            <table border="1" style="margin-left: 1%; margin-right: 1px; margin-bottom: 30px; width: 98%;">

                @using (Html.BeginForm())
                {
                    foreach (var item in Model)
                    {
                        if (a == 0)
                        {
                            
                    <tr>
                        <th colspan="3" style="text-align: center;">@User.Identity.Name</th>
                        <th colspan="4" style="text-align: center;"><b>Volunteer List</b></th>
                        <th colspan="3" style="text-align: center;"><b>Dated:@Convert.ToDateTime(DateTime.Now.Date).ToString("dd/MM/yyyy")</b></th>
                    </tr>
                    <tr>
                        <th style="width: 5%; text-align: center;">
                            <label id="sn"><b>S.N.</b></label>
                        </th>
                        <th style="width: 10%; text-align: center;">
                            <label id="newid"><b>Donar Id</b></label>
                        </th>

                        <th style="width: 10%; text-align: center;">
                            <label id="introducerid"><b>Donar Name</b></label>
                        </th>
                        <th style="width: 10%; text-align: center;">
                            <label id="spilid1"><b>Donation Date</b></label>
                        </th>
                        <th style="width: 10%; text-align: center;">
                            <label id="spilid"><b>Transaction Amount</b></label>
                        </th>



                        <th style="width: 10%; text-align: center;">
                            <label id="position"><b>Transaction ID</b></label>
                        </th>


                        <th style="width: 10%; text-align: center;">
                            <label id="doj"><b>Payment No. </b></label>
                        </th>
                        <th style="width: 10%; text-align: center;">
                            <label id="email"><b>Mobile No</b></label>
                        </th>

                        <th style="width: 10%; text-align: center;">
                            <label id="dojh"><b>Pan Card</b></label>
                        </th>
                        <th style="width: 10%; text-align: center;">
                            <label id="action"><b>Send Email </b></label>
                        </th>

                    </tr>
                        }
                        a = a + 1;


                    <tr style="text-align: center;">
                        <td>
                            @a
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DonarId)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>

                        <td>
                            @Convert.ToDateTime(item.DonationDate).ToString("dd/MM/yyyy")
                        </td>



                        <td>
                            @Html.DisplayFor(modelItem => item.DonateAmount)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.PaymentTransactionId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Phone)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Phone)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PAN)
                        </td>
                        <td>
                        <a class="btn btn-success" href="#" target="_blank">Send Receiept</a>
                           @* <button type="button" class="btn btn-success btn-rounded">Success</button>*@

                        </td>


                    </tr>
                   
                    }

                }



            </table>

            @*@if (a > 0)
            {
                <a href="@Url.Action("PrintDateWiseMember")" target="_blank">Get Report In PDF</a>
                }*@





        </div>
    </div>
</div>


